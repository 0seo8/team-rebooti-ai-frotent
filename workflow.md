# 리부뜨 프론트엔드 사전 과제 작업 계획

## 현재 상황 분석
### 프로젝트 개요
- **프로젝트명**: 전자 도장을 찍어보자!
- **목적**: PDF 파일에 전자 도장을 삽입하는 웹 애플리케이션 개발
- **상태**: 작업 중단, 일부 기능 구현됨

### 기술 스택
- **프레임워크**: React 19.0.0
- **빌드 도구**: Vite 6.2.0
- **언어**: TypeScript 5.7.2
- **주요 라이브러리**: pdf-lib, pdfjs-dist, fabric.js, zustand, axios, crypto-js

### 현재 문제점
- 코드 구조: 의미 없는 파일명(A.tsx 등), 비체계적 폴더, 분산된 CSS.
- 환경 설정: 비표준 스크립트(`npm run vite`), CSS-in-JS 미설치, 테스트 설정 없음.
- 기타: 타입 정의 불완전, 구조 개선 필요.

## 작업 계획

### 1. 환경 설정
- [x] npm 스크립트 수정:
  - `npm run vite` → `npm run dev`.
  - `npm run build` 추가 (프로덕션 모드).
- [x] ESLint, Prettier 설정.
- [x] CSS-in-JS 설치 (styled-components).
- [x] 폴더 구조 재구성 (components, pages, styles, utils, hooks).

### 2. 컴포넌트 재구성
- [x] 의미 없는 이름 변경 (A.tsx → 명확한 이름).
- [ ] 컴포넌트 책임 명확화.
  - FileUploader: PDF 파일 업로드 담당
  - StampUploader: 도장 이미지 관리 담당
  - PDFCanvas: 도장 찍기 기능과 PDF 다운로드 담당
- [ ] 재사용 컴포넌트 분리.

### 3. 라이브러리 분석
- [ ] `pdf-lib`: PDF 편집 및 도장 삽입.
- [ ] `pdfjs-dist`: 모든 페이지 미리보기 확장.
- [ ] `fabric.js`: 캔버스 기반 도장 배치.

### 4. 코어 기능
#### 구현된 부분
- **PDF 첫 페이지 미리보기**:
  - `pdfjs-dist`로 PDF 첫 페이지를 이미지로 변환 (`pdfFileToImage`).

#### 미구현된 부분
- [ ] PDF 파일 업로드/다운로드/삭제.
  - 파일 형식 제한 (PDF만 허용).
- [ ] PDF 모든 페이지 미리보기 (`pdfjs-dist` 확장).
- [x] 전자 도장 이미지 업로드.
  - 최대 5개 제한.
  - 파일 형식 제한 (PNG만 허용).
- [ ] PDF 모든 페이지에 전자 도장 삽입 (`pdf-lib`, `fabric.js` 사용).

### 5. 타입 정의 및 리팩토링
- [ ] 인터페이스/타입 보완.
- [x] 컴포넌트 재구성.
- [x] CSS-in-JS로 스타일 마이그레이션.

### 6. 성능 최적화
- [ ] 비동기 처리 (대용량 PDF 청크 단위 로드).
- [ ] 리소스 관리 (업로드 후 임시 파일 정리).
- [ ] 렌더링 성능 개선.

### 7. 예외 처리
- [ ] 파일 크기 초과 처리 (PDF 10MB, PNG 2MB).
- [ ] 잘못된 파일 형식 처리.
- [ ] 네트워크 오류 처리.

### 8. 테스트 및 마무리
- [ ] 기능 테스트.
- [ ] 예외 처리 검증.
- [ ] 코드 정리.
- [ ] 테스트 코드 작성 검토.

## 우선 수정이 필요한 사항
1. 프로젝트 구조 재정립.
2. CSS-in-JS 설치.
3. npm 스크립트 보완.
4. 라이브러리 분석 및 활용.
5. 타입 정의 보완.
6. 핵심 기능 구현 및 테스트.

## 다음 단계
1. 프로젝트 파일 구조 확인.
2. 기존 기능 테스트.
3. 라이브러리 분석 시작.
4. 개발 환경 설정 및 라이브러리 설치.
